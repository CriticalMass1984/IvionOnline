syntax = "proto3";

package IvionOnline;

message History {
    repeated Mutation Mutations = 1;
    repeated History Branches = 2;
    bool Is_Good = 3;
}

enum ObjectType {
	TYPE_BOOLEAN = 0;
	TYPE_LIST_BOOLEAN = 1;
	TYPE_LIST_REF_BOOLEAN = 2;
	TYPE_INTEGER = 3;
	TYPE_LIST_INTEGER = 4;
	TYPE_LIST_REF_INTEGER = 5;
	TYPE_VEC2I = 6;
	TYPE_LIST_VEC2I = 7;
	TYPE_LIST_REF_VEC2I = 8;
	TYPE_TERRAIN = 9;
	TYPE_LIST_TERRAIN = 10;
	TYPE_LIST_REF_TERRAIN = 11;
	TYPE_COLOR = 12;
	TYPE_LIST_COLOR = 13;
	TYPE_LIST_REF_COLOR = 14;
	TYPE_OBJECTPATH = 15;
	TYPE_LIST_OBJECTPATH = 16;
	TYPE_LIST_REF_OBJECTPATH = 17;
	TYPE_PLAYER = 18;
	TYPE_LIST_PLAYER = 19;
	TYPE_LIST_REF_PLAYER = 20;
	TYPE_TEAM = 21;
	TYPE_LIST_TEAM = 22;
	TYPE_LIST_REF_TEAM = 23;
	TYPE_CARD = 24;
	TYPE_LIST_CARD = 25;
	TYPE_LIST_REF_CARD = 26;
	TYPE_CARDDATA = 27;
	TYPE_LIST_CARDDATA = 28;
	TYPE_LIST_REF_CARDDATA = 29;
	TYPE_TILE = 30;
	TYPE_LIST_TILE = 31;
	TYPE_LIST_REF_TILE = 32;
	TYPE_GAMESTATE = 33;
	TYPE_LIST_GAMESTATE = 34;
	TYPE_LIST_REF_GAMESTATE = 35;
	TYPE_GETLIST = 36;
	TYPE_BOOLEAN_CONSTANT = 37;
	TYPE_INTEGER_CONSTANT = 38;
	TYPE_VEC2I_CONSTANT = 39;
	TYPE_TERRAIN_CONSTANT = 40;
	TYPE_COLOR_CONSTANT = 41;
	TYPE_OBJECTPATH_CONSTANT = 42;
	TYPE_FILTERDISTANCE = 43;
	TYPE_SELECTMULTIPLE = 44;
	TYPE_SELECTEXACTLYONE = 45;
	TYPE_ASSERTCONTROLORHEROIC = 46;
	TYPE_ASSERTCONTROLLERHASPRIORITY = 47;
	TYPE_ASSERTSTACKEMPTYORINSTANT = 48;
	TYPE_REDUCECOST = 49;
	TYPE_PAYCOST = 50;
	TYPE_PLAYGAINRESOURCES = 51;
	TYPE_REFUNDCOST = 52;
	TYPE_GAINACTIONS = 53;
	TYPE_GAINPOWER = 54;
	TYPE_MOVE = 55;
	TYPE_TRAVEL = 56;
	TYPE_DAMAGE = 57;
	TYPE_METHOD = 58;
	TYPE_LIST_METHOD = 59;
}

message Boolean {
	bool Value = 1;
	ObjectPath AbsPath = 2;
	string Name = 3;
}


message List_Boolean {
    repeated Boolean element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message Integer {
	int32 Value = 1;
	ObjectPath AbsPath = 2;
	string Name = 3;
}


message List_Integer {
    repeated Integer element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message Vec2i {
	int32 x = 1;
	int32 y = 2;
	ObjectPath AbsPath = 3;
	string Name = 4;
}


message List_Vec2i {
    repeated Vec2i element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message Terrain {
	enum Terrain_Type {
		TERRAIN_TYPE_NONE = 0;
		TERRAIN_TYPE_DIFFICULT = 1;
		TERRAIN_TYPE_ENCHANTED = 2;
	}
	Terrain_Type Value = 1;
	ObjectPath AbsPath = 3;
	string Name = 4;
}


message List_Terrain {
    repeated Terrain element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message Color {
	enum Color_Type {
		COLOR_NONE = 0;
		COLOR_GRAY = 1;
		COLOR_BLACK = 2;
		COLOR_RED = 3;
		COLOR_GREEN = 4;
		COLOR_BLUE = 5;
		COLOR_WHITE = 6;
	}
	Color_Type Value = 1;
	ObjectPath AbsPath = 3;
	string Name = 4;
}


message List_Color {
    repeated Color element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message ObjectPath {
	repeated string Path = 1;
	ObjectType Object_Type = 2;
}


message List_ObjectPath {
    repeated ObjectPath element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message Player {
	string UID = 1;
	string DisplayName = 2;
	Integer Health = 3;
	Integer Actions = 4;
	Integer Power = 5;
	Integer Initiative = 6;
	Integer Mitigate = 7;
	Integer Slow = 8;
	Integer Silence = 9;
	Integer Disarm = 10;
	Vec2i Position = 11;
	List_ObjectPath BasicActions = 12;
	List_ObjectPath Hand = 13;
	List_ObjectPath Deck = 14;
	List_ObjectPath Discard = 15;
	List_ObjectPath Feats = 16;
	List_ObjectPath RangeSources = 17;
	Integer MaxHealth = 18;
	Integer MaxActions = 19;
	Integer MaxPower = 20;
	Integer MaxSlow = 21;
	Integer MaxSilence = 22;
	Integer MaxDisarm = 23;
	Integer MaxMitigate = 24;
	ObjectPath AbsPath = 25;
	string Name = 26;
}


message List_Player {
    repeated Player element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message Team {
	List_ObjectPath Players = 1;
	ObjectPath AbsPath = 2;
	string Name = 3;
}


message List_Team {
    repeated Team element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message Card {
	ObjectPath CardStats = 1;
	ObjectPath AbsPath = 2;
	string Name = 3;
}


message List_Card {
    repeated Card element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message CardData {
	ObjectPath Owner = 1;
	ObjectPath Controller = 2;
	Integer ActionCost = 3;
	Integer PowerCost = 4;
	Integer Range = 5;
	Boolean AffectedBySlow = 6;
	Boolean AffectedBySilence = 7;
	Boolean AffectedByDisarm = 8;
	ObjectPath Attached = 9;
	List_Method OmniPresentEffect = 10;
	List_Method PassiveEffect = 11;
	List_Method FeatEffect = 12;
	List_Method PlayEffect = 13;
	List_Method ResolveEffect = 14;
	bool BasicAction = 15;
	bool Feat = 16;
	bool Ultimate = 17;
	ObjectPath AbsPath = 18;
	string Name = 19;
}


message List_CardData {
    repeated CardData element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message Tile {
	Vec2i Position = 1;
	int32 Index = 2;
	string IndexStr = 3;
	Terrain Terrain = 4;
	ObjectPath AbsPath = 5;
	string Name = 6;
}


message List_Tile {
    repeated Tile element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message GameState {
	List_Player Players = 1;
	List_Card Cards = 2;
	List_CardData CardData = 3;
	List_Team Teams = 4;
	List_Tile Tiles = 5;
	List_ObjectPath Field = 6;
	Integer TurnNumber = 7;
	ObjectPath AbsPath = 8;
	string Name = 9;
}


message List_GameState {
    repeated GameState element = 1;
    ObjectPath AbsPath = 2;
	string Name = 3;
}
message Boolean_Set_Mutation
{
    ObjectPath Path = 1;
    Boolean NewValue = 2;
    Boolean OldValue = 3;
}

message List_Boolean_Insert_Mutation
{
    ObjectPath Path = 1;
    Boolean NewValue = 2;
    int32 Index = 3;
}

message List_Boolean_Remove_Mutation
{
    ObjectPath Path = 1;
    Boolean OldValue = 2;
    int32 Index = 3;
}
message Integer_Set_Mutation
{
    ObjectPath Path = 1;
    Integer NewValue = 2;
    Integer OldValue = 3;
}

message List_Integer_Insert_Mutation
{
    ObjectPath Path = 1;
    Integer NewValue = 2;
    int32 Index = 3;
}

message List_Integer_Remove_Mutation
{
    ObjectPath Path = 1;
    Integer OldValue = 2;
    int32 Index = 3;
}
message Vec2i_Set_Mutation
{
    ObjectPath Path = 1;
    Vec2i NewValue = 2;
    Vec2i OldValue = 3;
}

message List_Vec2i_Insert_Mutation
{
    ObjectPath Path = 1;
    Vec2i NewValue = 2;
    int32 Index = 3;
}

message List_Vec2i_Remove_Mutation
{
    ObjectPath Path = 1;
    Vec2i OldValue = 2;
    int32 Index = 3;
}
message Terrain_Set_Mutation
{
    ObjectPath Path = 1;
    Terrain NewValue = 2;
    Terrain OldValue = 3;
}

message List_Terrain_Insert_Mutation
{
    ObjectPath Path = 1;
    Terrain NewValue = 2;
    int32 Index = 3;
}

message List_Terrain_Remove_Mutation
{
    ObjectPath Path = 1;
    Terrain OldValue = 2;
    int32 Index = 3;
}
message Color_Set_Mutation
{
    ObjectPath Path = 1;
    Color NewValue = 2;
    Color OldValue = 3;
}

message List_Color_Insert_Mutation
{
    ObjectPath Path = 1;
    Color NewValue = 2;
    int32 Index = 3;
}

message List_Color_Remove_Mutation
{
    ObjectPath Path = 1;
    Color OldValue = 2;
    int32 Index = 3;
}
message ObjectPath_Set_Mutation
{
    ObjectPath Path = 1;
    ObjectPath NewValue = 2;
    ObjectPath OldValue = 3;
}

message List_ObjectPath_Insert_Mutation
{
    ObjectPath Path = 1;
    ObjectPath NewValue = 2;
    int32 Index = 3;
}

message List_ObjectPath_Remove_Mutation
{
    ObjectPath Path = 1;
    ObjectPath OldValue = 2;
    int32 Index = 3;
}

message Mutation
{
	oneof mut{
		Boolean_Set_Mutation Boolean_Set_Mutation = 1;
		List_Boolean_Insert_Mutation List_Boolean_Insert_Mutation = 2;
		List_Boolean_Remove_Mutation List_Boolean_Remove_Mutation = 3;
		Integer_Set_Mutation Integer_Set_Mutation = 4;
		List_Integer_Insert_Mutation List_Integer_Insert_Mutation = 5;
		List_Integer_Remove_Mutation List_Integer_Remove_Mutation = 6;
		Vec2i_Set_Mutation Vec2i_Set_Mutation = 7;
		List_Vec2i_Insert_Mutation List_Vec2i_Insert_Mutation = 8;
		List_Vec2i_Remove_Mutation List_Vec2i_Remove_Mutation = 9;
		Terrain_Set_Mutation Terrain_Set_Mutation = 10;
		List_Terrain_Insert_Mutation List_Terrain_Insert_Mutation = 11;
		List_Terrain_Remove_Mutation List_Terrain_Remove_Mutation = 12;
		Color_Set_Mutation Color_Set_Mutation = 13;
		List_Color_Insert_Mutation List_Color_Insert_Mutation = 14;
		List_Color_Remove_Mutation List_Color_Remove_Mutation = 15;
		ObjectPath_Set_Mutation ObjectPath_Set_Mutation = 16;
		List_ObjectPath_Insert_Mutation List_ObjectPath_Insert_Mutation = 17;
		List_ObjectPath_Remove_Mutation List_ObjectPath_Remove_Mutation = 18;
	}
}
message GetList {
	ObjectPath Source = 1;
	List_ObjectPath Result = 2;
	string Name = 3;
	ObjectPath AbsPath = 4;
}

message FilterDistance {
	ObjectPath Targets = 1;
	ObjectPath RangeSources = 2;
	ObjectPath MaxDistance = 3;
	string Name = 4;
	ObjectPath AbsPath = 5;
}

message SelectMultiple {
	ObjectPath Source = 1;
	ObjectPath Number = 2;
	ObjectPath UpTo = 3;
	List_ObjectPath Result = 4;
	string Name = 5;
	ObjectPath AbsPath = 6;
}

message SelectExactlyOne {
	ObjectPath Source = 1;
	ObjectPath Result = 2;
	string Name = 3;
	ObjectPath AbsPath = 4;
}

message AssertControlOrHeroic {
	string Name = 1;
	ObjectPath AbsPath = 2;
}

message AssertControllerHasPriority {
	string Name = 1;
	ObjectPath AbsPath = 2;
}

message AssertStackEmptyOrInstant {
	string Name = 1;
	ObjectPath AbsPath = 2;
}

message ReduceCost {
	ObjectPath Card = 1;
	ObjectPath ActionCostReduction = 2;
	ObjectPath PowerCostReduction = 3;
	ObjectPath CostReduction = 4;
	ObjectPath Free = 5;
	string Name = 6;
	ObjectPath AbsPath = 7;
}

message PayCost {
	ObjectPath Player = 1;
	ObjectPath Card = 2;
	string Name = 3;
	ObjectPath AbsPath = 4;
}

message PlayGainResources {
	ObjectPath Player = 1;
	ObjectPath Card = 2;
	string Name = 3;
	ObjectPath AbsPath = 4;
}

message RefundCost {
	ObjectPath Player = 1;
	ObjectPath Card = 2;
	string Name = 3;
	ObjectPath AbsPath = 4;
}

message GainActions {
	ObjectPath Player = 1;
	ObjectPath Value = 2;
	string Name = 3;
	ObjectPath AbsPath = 4;
}

message GainPower {
	ObjectPath Player = 1;
	ObjectPath Value = 2;
	string Name = 3;
	ObjectPath AbsPath = 4;
}

message Move {
	ObjectPath Player = 1;
	ObjectPath Destination = 2;
	string Name = 3;
	ObjectPath AbsPath = 4;
}

message Travel {
	ObjectPath Player = 1;
	ObjectPath Destination = 2;
	string Name = 3;
	ObjectPath AbsPath = 4;
}

message Damage {
	ObjectPath Player = 1;
	ObjectPath Amount = 2;
	string Name = 3;
	ObjectPath AbsPath = 4;
}

message Boolean_Constant {
	Boolean Result = 1;
	string Name = 2;
	ObjectPath AbsPath = 3;
}

message Integer_Constant {
	Integer Result = 1;
	string Name = 2;
	ObjectPath AbsPath = 3;
}

message Vec2i_Constant {
	Vec2i Result = 1;
	string Name = 2;
	ObjectPath AbsPath = 3;
}

message Terrain_Constant {
	Terrain Result = 1;
	string Name = 2;
	ObjectPath AbsPath = 3;
}

message Color_Constant {
	Color Result = 1;
	string Name = 2;
	ObjectPath AbsPath = 3;
}

message ObjectPath_Constant {
	ObjectPath Result = 1;
	string Name = 2;
	ObjectPath AbsPath = 3;
}

message Method {
	oneof methods {
		GetList GetList = 1;
		FilterDistance FilterDistance = 2;
		SelectMultiple SelectMultiple = 3;
		SelectExactlyOne SelectExactlyOne = 4;
		AssertControlOrHeroic AssertControlOrHeroic = 5;
		AssertControllerHasPriority AssertControllerHasPriority = 6;
		AssertStackEmptyOrInstant AssertStackEmptyOrInstant = 7;
		ReduceCost ReduceCost = 8;
		PayCost PayCost = 9;
		PlayGainResources PlayGainResources = 10;
		RefundCost RefundCost = 11;
		GainActions GainActions = 12;
		GainPower GainPower = 13;
		Move Move = 14;
		Travel Travel = 15;
		Damage Damage = 16;
		Boolean_Constant Boolean_Constant = 17;
		Integer_Constant Integer_Constant = 18;
		Vec2i_Constant Vec2i_Constant = 19;
		Terrain_Constant Terrain_Constant = 20;
		Color_Constant Color_Constant = 21;
		ObjectPath_Constant ObjectPath_Constant = 22;
	}
}

message List_Method {
	repeated Method element = 1;
	string Name = 2;
	ObjectPath AbsPath = 3;
}

